"use strict";(self.webpackChunkszallas_foglalo=self.webpackChunkszallas_foglalo||[]).push([[209],{8209:(G,p,o)=>{o.r(p),o.d(p,{HotelListComponent:()=>K});var c=o(177),x=o(8498),_=o(5596),u=o(2798),h=o(1551),f=o(6471),C=o(3746),v=o(8599),M=o(4308),O=o(1659),E=o(8822),l=o(9417),F=o(4572),P=o(9172),b=o(6354),t=o(9498),D=o(3888),k=o(4796),g=o(3733),L=o(1958);const R=()=>[],I=e=>["/hotels",e],j=e=>["/hotels/edit",e];function T(e,r){1&e&&(t.j41(0,"button",17)(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.EFF(3," \xdaj hotel "),t.k0s())}function $(e,r){1&e&&(t.qex(0),t.j41(1,"mat-icon",25),t.EFF(2,"star"),t.k0s(),t.bVm())}function B(e,r){if(1&e&&(t.qex(0),t.j41(1,"mat-chip"),t.EFF(2),t.k0s(),t.bVm()),2&e){const n=r.$implicit;t.R7$(2),t.JRh(n)}}function y(e,r){if(1&e&&(t.j41(0,"span",28),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.SpI("+",n.amenities.length-3," t\xf6bb")}}function z(e,r){if(1&e&&(t.j41(0,"div",26),t.DNE(1,B,3,1,"ng-container",15)(2,y,2,1,"span",27),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",n.amenities.slice(0,3)),t.R7$(),t.Y8G("ngIf",n.amenities.length>3)}}function A(e,r){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",29),t.EFF(2," Szerkeszt\xe9s "),t.k0s(),t.j41(3,"button",30),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,s=t.XpG();return t.Njj(s.deleteHotel(a.id))}),t.EFF(4," T\xf6rl\xe9s "),t.k0s(),t.bVm()}if(2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("routerLink",t.eq3(1,j,n.id))}}function H(e,r){if(1&e&&(t.qex(0),t.j41(1,"mat-card"),t.nrm(2,"img",18),t.j41(3,"mat-card-content")(4,"div",19)(5,"h2"),t.EFF(6),t.k0s(),t.j41(7,"div",20),t.DNE(8,$,3,0,"ng-container",15),t.k0s()(),t.j41(9,"p",21),t.EFF(10),t.k0s(),t.j41(11,"p",22),t.EFF(12),t.nI1(13,"slice"),t.k0s(),t.DNE(14,z,3,2,"div",23),t.k0s(),t.j41(15,"mat-card-actions")(16,"button",24),t.EFF(17," R\xe9szletek "),t.k0s(),t.DNE(18,A,5,3,"ng-container",16),t.nI1(19,"async"),t.k0s()(),t.bVm()),2&e){const n=r.$implicit,i=t.XpG();t.R7$(2),t.Y8G("src",n.images&&n.images.length>0?n.images[0]:"/hotel.png",t.B4B)("alt",n.name),t.R7$(4),t.JRh(n.name),t.R7$(2),t.Y8G("ngForOf",t.lJ4(17,R).constructor(n.stars)),t.R7$(2),t.Lme("",n.city,", ",n.country,""),t.R7$(2),t.Lme("",t.brH(13,11,n.description,0,150),"",n.description.length>150?"...":"",""),t.R7$(2),t.Y8G("ngIf",n.amenities&&n.amenities.length>0),t.R7$(2),t.Y8G("routerLink",t.eq3(18,I,n.id)),t.R7$(2),t.Y8G("ngIf",t.bMT(19,15,i.isAdmin$))}}function U(e,r){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",31)(2,"p"),t.EFF(3,"Nincs a keres\xe9si felt\xe9teleknek megfelel\u0151 hotel."),t.k0s(),t.j41(4,"button",32),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.resetFilters())}),t.EFF(5," Sz\u0171r\u0151k t\xf6rl\xe9se "),t.k0s()(),t.bVm()}}let K=(()=>{class e{hotelService;authService;dialog;snackBar;hotels$;filteredHotels$;isAdmin$;searchControl=new l.MJ("");starsControl=new l.MJ("");constructor(n,i,a,s){this.hotelService=n,this.authService=i,this.dialog=a,this.snackBar=s}ngOnInit(){this.hotels$=this.hotelService.getHotels(),this.isAdmin$=this.authService.isAdmin(),this.filteredHotels$=(0,F.z)([this.hotels$,this.searchControl.valueChanges.pipe((0,P.Z)("")),this.starsControl.valueChanges.pipe((0,P.Z)(""))]).pipe((0,b.T)(([n,i,a])=>{let s=n;if(i){const m=i.toLowerCase();s=s.filter(d=>d.name.toLowerCase().includes(m)||d.city.toLowerCase().includes(m)||d.country.toLowerCase().includes(m))}return a&&(s=s.filter(m=>m.stars===Number.parseInt(a))),s}))}resetFilters(){this.searchControl.setValue(""),this.starsControl.setValue("")}deleteHotel(n){confirm("Biztosan t\xf6r\xf6lni szeretn\xe9d ezt a hotelt? Ez a m\u0171velet nem visszavonhat\xf3.")&&this.hotelService.deleteHotel(n).subscribe({next:()=>{this.snackBar.open("Hotel sikeresen t\xf6r\xf6lve","Bez\xe1r\xe1s",{duration:3e3})},error:i=>{this.snackBar.open("Hiba a hotel t\xf6rl\xe9sekor","Bez\xe1r\xe1s",{duration:3e3}),console.error(i)}})}static \u0275fac=function(i){return new(i||e)(t.rXU(D.g),t.rXU(k.u),t.rXU(O.j),t.rXU(E.UG))};static \u0275cmp=t.VBU({type:e,selectors:[["app-hotel-list"]],decls:34,vars:11,consts:[[1,"hotel-list-container"],[1,"header"],["mat-raised-button","","color","primary","routerLink","/hotels/new",4,"ngIf"],[1,"filters"],["appearance","outline"],["matInput","","placeholder","Keres\xe9s n\xe9v, v\xe1ros vagy orsz\xe1g szerint",3,"formControl"],["matSuffix",""],[3,"formControl"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"hotels-grid"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-raised-button","","color","primary","routerLink","/hotels/new"],["mat-card-image","",3,"src","alt"],[1,"hotel-header"],[1,"stars"],[1,"location"],[1,"description"],["class","amenities",4,"ngIf"],["mat-button","","color","primary",3,"routerLink"],[1,"star-icon"],[1,"amenities"],["class","more-amenities",4,"ngIf"],[1,"more-amenities"],["mat-button","","color","accent",3,"routerLink"],["mat-button","","color","warn",3,"click"],[1,"no-hotels"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,a){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Hotelek"),t.k0s(),t.DNE(4,T,4,0,"button",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),t.EFF(9,"Keres\xe9s"),t.k0s(),t.nrm(10,"input",5),t.j41(11,"mat-icon",6),t.EFF(12,"search"),t.k0s()(),t.j41(13,"mat-form-field",4)(14,"mat-label"),t.EFF(15,"Csillagok"),t.k0s(),t.j41(16,"mat-select",7)(17,"mat-option",8),t.EFF(18,"\xd6sszes"),t.k0s(),t.j41(19,"mat-option",9),t.EFF(20,"1 csillag"),t.k0s(),t.j41(21,"mat-option",10),t.EFF(22,"2 csillag"),t.k0s(),t.j41(23,"mat-option",11),t.EFF(24,"3 csillag"),t.k0s(),t.j41(25,"mat-option",12),t.EFF(26,"4 csillag"),t.k0s(),t.j41(27,"mat-option",13),t.EFF(28,"5 csillag"),t.k0s()()()(),t.j41(29,"div",14),t.DNE(30,H,20,20,"ng-container",15),t.nI1(31,"async"),t.k0s(),t.DNE(32,U,6,0,"ng-container",16),t.nI1(33,"async"),t.k0s()),2&i){let s;t.R7$(4),t.Y8G("ngIf",t.bMT(5,5,a.isAdmin$)),t.R7$(6),t.Y8G("formControl",a.searchControl),t.R7$(6),t.Y8G("formControl",a.starsControl),t.R7$(14),t.Y8G("ngForOf",t.bMT(31,7,a.filteredHotels$)),t.R7$(2),t.Y8G("ngIf",0===(null==(s=t.bMT(33,9,a.filteredHotels$))?null:s.length))}},dependencies:[c.MD,c.Sq,c.bT,c.Jj,c.P9,x.Wk,l.X1,l.me,l.BC,l.l_,_.Hu,_.RN,_.YY,_.m2,_.kF,u.h,u.M,h.M,h.d,f.YN,f.Jl,C.fS,C.fg,g.k,g.b,g.i,v.M,M.a,M.M,L.a,O.n,E._T],styles:[".hotel-list-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 20px;background-color:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a;padding:15px}@media (max-width: 599px){.hotel-list-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:10px}@media (max-width: 599px){.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;width:100%}}@media (max-width: 599px){.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;margin-bottom:20px}@media (max-width: 599px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.filters[_ngcontent-%COMP%]   .custom-select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filters[_ngcontent-%COMP%]   .custom-select-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-size:14px;color:#0009}.filters[_ngcontent-%COMP%]   .custom-select-container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid rgba(0,0,0,.12);border-radius:4px;background-color:#fff;font-size:16px}.filters[_ngcontent-%COMP%]   .custom-select-container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5}.filters[_ngcontent-%COMP%]   .custom-select-container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid rgba(0,0,0,.12);border-radius:4px;background-color:#fff;font-size:16px;box-sizing:border-box}.filters[_ngcontent-%COMP%]   .custom-select-container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{padding:10px}.filters[_ngcontent-%COMP%]   .custom-select-container[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   .mat-select-arrow[_ngcontent-%COMP%]{top:50%}.hotels-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}@media (max-width: 599px){.hotels-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.hotels-grid[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;max-height:200px}.hotel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;align-items:flex-start}.hotel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;flex:1}@media (max-width: 599px){.hotel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}}.hotel-header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex}.hotel-header[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{color:gold;font-size:18px;width:18px;height:18px}.location[_ngcontent-%COMP%]{color:#666;margin-bottom:8px;font-weight:500}.description[_ngcontent-%COMP%]{margin-bottom:12px;line-height:1.4;color:#333}.amenities[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}.amenities[_ngcontent-%COMP%]   .more-amenities[_ngcontent-%COMP%]{font-size:.8rem;color:#666;align-self:center}.no-hotels[_ngcontent-%COMP%]{text-align:center;padding:40px}@media (max-width: 599px){.no-hotels[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 599px){.no-hotels[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 599px){mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-left:0!important;margin-right:0!important;margin-bottom:8px}}"]})}return e})()}}]);