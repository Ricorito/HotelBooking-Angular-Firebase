"use strict";(self.webpackChunkszallas_foglalo=self.webpackChunkszallas_foglalo||[]).push([[860],{4860:(L,c,e)=>{e.r(c),e.d(c,{LoginComponent:()=>j});var p=e(177),r=e(9417),_=e(8498),s=e(5596),M=e(8599),E=e(3746),f=e(2798),h=e(9183),F=e(8822),t=e(9498),C=e(4796),d=e(3733);function P(a,u){1&a&&(t.j41(0,"mat-error"),t.EFF(1," Email c\xedm megad\xe1sa k\xf6telez\u0151! "),t.k0s())}function O(a,u){1&a&&(t.j41(0,"mat-error"),t.EFF(1," K\xe9rlek l\xe9tez\u0151 email c\xedmet adj meg. "),t.k0s())}function k(a,u){1&a&&(t.j41(0,"mat-error"),t.EFF(1," Jelsz\xf3 megad\xe1sa k\xf6telez\u0151! "),t.k0s())}function D(a,u){1&a&&(t.qex(0),t.nrm(1,"mat-spinner",12),t.bVm())}function b(a,u){1&a&&t.EFF(0," Bejelentkez\xe9s ")}let j=(()=>{class a{fb;authService;router;route;snackBar;loginForm;isLoading=!1;returnUrl="/dashboard";constructor(m,o,n,i,l){this.fb=m,this.authService=o,this.router=n,this.route=i,this.snackBar=l,this.loginForm=this.fb.group({email:["",[r.k0.required,r.k0.email]],password:["",r.k0.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}onSubmit(){if(this.loginForm.invalid)return;this.isLoading=!0;const{email:m,password:o}=this.loginForm.value;this.authService.login(m,o).subscribe({next:()=>{console.log("Bejelentkez\xe9s sikeres. \xc1tir\xe1ny\xedtunk a f\u0151oldalra! ",this.returnUrl),this.router.navigateByUrl(this.returnUrl)},error:n=>{this.isLoading=!1,this.snackBar.open(n.message||"Bejelentkez\xe9s sikertelen! K\xe9rlek pr\xf3b\xe1ld \xfajra","Bez\xe1r\xe1s",{duration:5e3})}})}static \u0275fac=function(o){return new(o||a)(t.rXU(r.ok),t.rXU(C.u),t.rXU(_.Ix),t.rXU(_.nX),t.rXU(F.UG))};static \u0275cmp=t.VBU({type:a,selectors:[["app-login"]],decls:32,vars:7,consts:[["loginText",""],[1,"login-container"],[1,"bejelentkezesTitle"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","Email"],[4,"ngIf"],["matInput","","formControlName","password","type","password","placeholder","Jelsz\xf3"],[1,"button-container"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[4,"ngIf","ngIfElse"],["routerLink","/register"],["diameter","24"]],template:function(o,n){if(1&o){const i=t.RV6();t.j41(0,"div",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title",2),t.EFF(4,"Bejelentkez\xe9s"),t.k0s()(),t.j41(5,"mat-card-content")(6,"mat-card-title"),t.EFF(7,"Email:"),t.k0s(),t.j41(8,"form",3),t.bIt("ngSubmit",function(){return t.eBV(i),t.Njj(n.onSubmit())}),t.j41(9,"mat-form-field",4)(10,"mat-label"),t.EFF(11,"Email"),t.k0s(),t.nrm(12,"input",5),t.DNE(13,P,2,0,"mat-error",6)(14,O,2,0,"mat-error",6),t.k0s(),t.j41(15,"mat-card-title"),t.EFF(16,"Jelsz\xf3:"),t.k0s(),t.j41(17,"mat-form-field",4)(18,"mat-label"),t.EFF(19,"Jelsz\xf3"),t.k0s(),t.nrm(20,"input",7),t.DNE(21,k,2,0,"mat-error",6),t.k0s(),t.j41(22,"div",8)(23,"button",9),t.DNE(24,D,2,0,"ng-container",10)(25,b,1,0,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(27,"mat-card-actions")(28,"p"),t.EFF(29,"Nincs fi\xf3kod? "),t.j41(30,"a",11),t.EFF(31,"Regisztr\xe1lj"),t.k0s()()()()()}if(2&o){let i,l,g;const x=t.sdS(26);t.R7$(8),t.Y8G("formGroup",n.loginForm),t.R7$(5),t.Y8G("ngIf",(null==(i=n.loginForm.get("email"))?null:i.hasError("required"))&&(null==(i=n.loginForm.get("email"))?null:i.touched)),t.R7$(),t.Y8G("ngIf",(null==(l=n.loginForm.get("email"))?null:l.hasError("email"))&&(null==(l=n.loginForm.get("email"))?null:l.touched)),t.R7$(7),t.Y8G("ngIf",(null==(g=n.loginForm.get("password"))?null:g.hasError("required"))&&(null==(g=n.loginForm.get("password"))?null:g.touched)),t.R7$(2),t.Y8G("disabled",n.loginForm.invalid||n.isLoading),t.R7$(),t.Y8G("ngIf",n.isLoading)("ngIfElse",x)}},dependencies:[p.MD,p.bT,r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,_.Wk,s.Hu,s.RN,s.YY,s.m2,s.MM,s.dh,M.M,d.k,d.b,d.d,E.fS,E.fg,f.h,f.M,h.D6,h.LG,F._T],styles:[".login-container[_ngcontent-%COMP%]{background-image:url(/HotelBooking-Angular-Firebase/background.jpg);background-size:cover;background-position:center;background-attachment:fixed;display:flex;justify-content:center;align-items:center;height:calc(100vh - 64px);padding:20px}@media (max-width: 599px){.login-container[_ngcontent-%COMP%]{height:calc(100vh - 56px);padding:10px}}mat-card-title[_ngcontent-%COMP%]{font-size:18px}@media (max-width: 599px){mat-card-title[_ngcontent-%COMP%]{font-size:16px}}.bejelentkezesTitle[_ngcontent-%COMP%]{font-size:38px;justify-content:center;align-items:center;text-align:center;margin-bottom:20px}@media (max-width: 599px){.bejelentkezesTitle[_ngcontent-%COMP%]{font-size:28px;margin-bottom:15px}}mat-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;opacity:.9}@media (max-width: 599px){mat-card[_ngcontent-%COMP%]{padding:15px}}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media (max-width: 599px){.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return a})()}}]);